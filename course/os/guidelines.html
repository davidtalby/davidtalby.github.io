<html>

<head>
<meta http-equiv="Content-Type"
content="text/html; charset=windows-1255">
<meta name="GENERATOR" content="Microsoft FrontPage Express 2.0">
<title>Exercise Guidelines </title>
<!-- Appears in the title bar -->
</head>

<body background="icons/blueback.gif">

<h1 align="center"><font size="6">Exercise Guidelines</font></h1>

<h2><img src="accent.gif" width="32" height="31">General</h2>

<p>In the exercises you have an opportunity to practice basic
Operating Systems principles in the framework of the <strong>Unix</strong>
operating system.</p>

<p><strong>All</strong> exercises must be submitted! However, you
are encouraged to submit in <strong>pairs</strong>.</p>

<h2><img src="accent.gif" width="32" height="31">Development
Environment</h2>

<p>Exercises should work in the <strong>Linux</strong>
environment as installed in the college's laboratories. Even if
you work at home, you must test and submit your work at your
college account.</p>

<p>Exercises should be written in <strong>C</strong> programming
language and compiled using <em>gcc</em>. <u>C++ is not accepted</u><em>.</em>
<font face="Arial">Your source files must compile with no errors
or warnings, with the <code>-Wall</code> switch of the <em>gcc</em>
command activated.</font></p>

<p><font face="Arial">The recommended editor is <em>emacs</em>,
and a good debugger is <em>ddd</em>.</font></p>

<p>To make a library <font face="Arial">(*.a file) </font>from
object files <font face="Arial">(*.o files) </font>use <em>ar(1)</em>
and <em>ranlib(1)</em> commands<font face="Arial"> (this is done
by the Makefile in the first exercise).</font></p>

<p>A Makefile should be submitted along with every exercise,
except the first one.<font face="Arial"> Running <em>gmake</em>
should compile/link only the necessary changed files.</font></p>

<p><font face="Arial">The most important command in the Unix
environment is <em>man</em>. Along this document and exercise
definitions, every italicised word, as in &quot;see <em>chmod</em>&quot;,
means that the word exists as a man page - typing &quot;<em>man
chmod</em>&quot; will give its usage. When italicised words are
followed by a number in parentheses, as in &quot;</font>For the <em>read(2)</em>
and <em>write(2)</em> system calls<font face="Arial"> ...&quot;,
this means that you should type &quot;man 2 write&quot; and
&quot;man 2 read&quot; for the desired information.</font></p>

<h2><img src="accent.gif" width="32" height="31"> Files to Submit</h2>

<p>The exercises should be submitted on the computer <u>and</u>
as hardcopy. The files should be located in your home directory
under the directory ~/os/ex# where # is the exercise number<font
face="Arial"> (see <em>mkdir</em>, <em>cd</em>).</font></p>

<p><font face="Arial">When submitting an exercise, make sure that
<u>all</u> the exercise's file, and <u>only</u> them, are in the
proper directory (say ~/os/ex8 for the first exercise). Also make
sure that other users can read those files, but giving your group
and the world <u>read</u> and <u>execute</u> permissions one
these files (see <em>chmod</em>). The submission time will be
considered as the latest time and date of changing a file in this
directory, so after submitting you may also wish to prevent
yourself from write access to it (using 'chmod 555 *', for
example).</font></p>

<p><font face="Arial">When two people are submitting one exercise
together, make sure that <u>exactly one</u> of them has such a
directory that's open for reading. The other partner should
either work in a renamed directory, or deprive group and world
from read permissions on this directory. This is done so that the
bodek will have exactly one place to look for a pair's submission
in.</font></p>

<p>The following files should be submitted:</p>

<ul>
    <li>A file called <strong>README</strong> (note, it's README,
        nor Readme nor readme) with a general description of your
        exercise and a listing of all the files you submit, and
        their descriptions. We may ask you to put some more
        information in this file, so read the exercises'
        descriptions carefully.<br>
        You have to make sure that the <strong>first</strong>
        line in the README file contains <strong>only</strong>
        login names of the exercise's authors. For example, if an
        exercise was written by <i>rogger-rabbit</i> and <i>buggs-bunny</i>
        then the first line in README looks like this:<br>
        <i>rogger-rabbit</i>, <i>buggs-bunny</i> <br>
        </li>
    <li>You must submit a makefile called <strong>Makefile</strong>
        (not makefile!), that should generate all the executable<font
        face="Arial">s</font> and libraries from the submitted
        sources using the command <i>gmake</i><font face="Arial">.<br>
        </font>The Makefile should work correctly if we copy all
        the sources and the Makefile to a different directory<font
        face="Arial">. </font>Whenever any of the source files is
        . modifiedand re-links whatever is necessary. , typing <i>gmake</i>
        re-compiles <strong>only</strong> the necessary modules, <br>
        </li>
    <li><font face="Arial">The source files of the exercise. Make
        sure the submission directory does not contain <u>any</u>
        other irrelevant files!</font></li>
</ul>

<h2><img src="accent.gif" width="32" height="31"> Error Handling
and Exit Status</h2>

<p><font face="Arial">Checking system call return values:</font></p>

<ul>
    <li>You should check return values of all the <strong>system
        calls</strong>. (One allowed exception is the <em>close(2)</em>
        system call). If a system call return value is <strong>-1</strong>
        you should print the <strong>system</strong>'s error
        message (see <em>perror(3)</em>). </li>
    <li>For the <em>read(2)</em> and <em>write(2)</em> system
        calls you should compare the number of bytes requested to
        read/write with the number of bytes that were actually
        read/written. If these values are different then some <strong>system</strong>
        error occurred during reading/writing. </li>
    <li>The <em>read(2)</em> system call used for reading from
        the <strong>Internet domain STREAM socket</strong> is
        allowed to return with a number of bytes less than
        requested. To circumvent this problem you should read
        from sockets in a <strong>loop</strong>.</li>
</ul>

<p><font face="Arial">Error handling in library functions:</font></p>

<ul>
    <li>You should <strong>never</strong> <strong>exit </strong>from
        within any <strong>library routine</strong>. </li>
    <li>When an error occurs within a library function (say <font
        face="Arial">F</font>unc1()) you do the following: <p>If
        the error isn't the <strong>system</strong>'s error:<br>
        issue an informative error message to <strong>stderr</strong>
        beginning with the string <strong>Func1:</strong> and
        ending with a newline, and return the control to the
        calling function. The return value should be consistent
        with the one specified in the exercise's definition<font
        face="Arial">: In general, a failure will be denoted by a
        return value of <strong>-1</strong>.</font></p>
        <p>If the error is the <strong>system</strong>'s error:<br>
        print to <strong>stderr</strong> the corresponding <strong>system</strong>'s
        error message beginning with the string <strong>Func1:</strong>
        and ending with a newline, and return the control to the
        calling function. The return value should be consistent
        with the one specified in the exercise's definition. </p>
        <p>The function <font face="Arial">that called the failed
        library function </font>should free all the resources it
        uses and exit immediately with exit-code <strong>1</strong>
        without any additional error messages. </p>
    </li>
</ul>

<p><font face="Arial">Error handling in non-library functions,
and executable programs exit code:</font></p>

<ul>
    <li>When detecting any other (non-library) error your program
        should print an informative error message to stderr,
        beginning with the string: &quot;Error: &quot;, and
        ending with a newline, and exit immediately with exit-code
        <strong>1</strong><font face="Arial"> (see <em>exit(2)</em>.
        A program's exit code is also its main() function's
        return value).</font></li>
    <li>If no errors have been detected your program should exit
        with exit-code <strong>0</strong>. </li>
</ul>

<p><font face="Arial">Assertions:</font></p>

<ul>
    <li>You <font face="Arial">are encouraged to use the </font><em>assert(3)</em>
        function<font face="Arial"> for debugging, and you may
        leave calls to the assert() function when submitting the
        exercise.</font></li>
    <li><font face="Arial">Moreover, when preconditions or
        postconditions of a function are specified in the
        exercise definition, they must be checked for by
        assertions in the function's code.</font></li>
    <li><font face="Arial">The exercise will be checked with
        assertions turned off. Therefore, beware of assertions
        that change the program's behavior when turned off (as in
        assert(i++) which changes a variable).</font></li>
    <li><font face="Arial">Do not confuse assertions with
        parameter checking or exception handling! Assertions
        check things that must <u>always</u> be true!</font></li>
</ul>

<h2><img src="accent.gif" width="32" height="31"> Exercise
Grading</h2>

<p>The source of you<font face="Arial">r</font> program will be
carefully read<font face="Arial"> - </font><font color="#000000">Make
sure your program is readable</font><font color="#000000"
face="Arial">!</font><font color="#000000"> Your program may be
tested by computer programs</font><font color="#000000"
face="Arial"> as well.</font></p>

<p>Exercise will be graded by the following categories:</p>

<table border="1" cellpadding="0" width="281">
    <tr>
        <td width="72%">Correctness</td>
        <td width="28%"> <font face="Arial">5</font>0%</td>
    </tr>
    <tr>
        <td width="72%">Documentation and Readability</td>
        <td width="28%"> <font face="Arial">25</font>%</td>
    </tr>
    <tr>
        <td width="72%">Efficiency</td>
        <td width="28%"> <font face="Arial">15</font>%</td>
    </tr>
    <tr>
        <td width="72%"><font face="Arial">E</font>legance<font
        face="Arial"> of Design.</font></td>
        <td width="28%"> 1<font face="Arial">0</font>%</td>
    </tr>
</table>

<p>By Documentation and readability we expect professional code -
nothing less, especially:</p>

<ol>
    <li>Clean and simple design - The design should be submitted
        with the hardcopy. The design can be hand-written (readable!).
    </li>
    <li>Comprehensive Documentation - when it is needed -
        especially at module (file containing group of related
        functions) headers and function headers. </li>
    <li>No clever tricky code. </li>
</ol>

<p><font face="Arial">A bad submission (files are not readable
from the appropriate directory, missing files and so forth) costs
5 points. A late submission costs 2 points per day. If you
require a postponement for a justified reason, email us and
explain why.</font></p>

<p>Please be aware that the load on the computer increases
towards submission dates, and sometimes the computer even crashes
as a result. <font face="Arial">P</font>lan your time, and avoid
getting stuck in the last minute.</p>

<p>Appeals on exercise grades must be submitted within two weeks
of the date you received them back. <br>
Appeals should be written and <font face="Arial">given in class</font>.<font
face="Arial"> </font>Submitting an appeal will subject the
exercise to a second test, which may either raise or lower the
grade.</p>

<p align="center"><img src="line_colorbar.gif" width="585"
height="1"></p>
</body>
</html>

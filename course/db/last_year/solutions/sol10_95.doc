{\rtf1\adeflang1037\ansi\ansicpg1255\uc1\adeff15 \deff0\deflang1033\deflangfe1037{\fonttbl{\f0\froman\fcharset0\fprq2{\*\panose 02020603050405020304}Times New Roman;}{\f3\froman\fcharset2\fprq2{\*\panose 05050102010706020507}Symbol;}{\f14\fnil\fcharset2\fprq2{\*\panose 05000000000000000000}Wingdings;}{\f15\fbidi \fcharset177\fprq2{\*\panose 00000000000000000000}Miriam;}{\f65\froman\fcharset238\fprq2 Times New Roman CE;}{\f66\froman\fcharset204\fprq2 Times New Roman Cyr;}{\f68\froman\fcharset161\fprq2 Times New Roman Greek;}{\f69\froman\fcharset162\fprq2 Times New Roman Tur;}{\f70\fbidi \fcharset177\fprq2 Times New Roman (Hebrew);}{\f72\froman\fcharset186\fprq2 Times New Roman Baltic;}{\f94\fbidi \fcharset177\fprq2 Symbol (Hebrew);}{\f182\fbidi \fcharset177\fprq2 Wingdings (Hebrew);}}{\colortbl;\red0\green0\blue0;\red0\green0\blue255;\red0\green255\blue255;\red0\green255\blue0;\red255\green0\blue255;\red255\green0\blue0;\red255\green255\blue0;\red255\green255\blue255;\red0\green0\blue128;\red0\green128\blue128;\red0\green128\blue0;\red128\green0\blue128;\red128\green0\blue0;\red128\green128\blue0;\red128\green128\blue128;\red192\green192\blue192;}{\stylesheet{\nowidctlpar\widctlpar\adjustright \rtlpar \qr\rtlch\af15\afs20 \ltrch\fs20 \snext0 Normal;}{\s1\qc\keepn\nowidctlpar\widctlpar\adjustright \qc\rtlch\af15\afs20 \ltrch\fs32 \sbasedon0 \snext0 heading 1;}{\s2\qc\keepn\nowidctlpar\widctlpar\adjustright \qc\rtlch\af15\afs20 \ltrch\fs24 \sbasedon0 \snext0 heading 2;}{\s3\ql\keepn\nowidctlpar\widctlpar\adjustright \ql\rtlch\ab\af15\afs20\aul \ltrch\b\fs24\ul \sbasedon0 \snext0 heading 3;}{\s4\ql\sl360\slmult1\keepn\nowidctlpar\widctlpar\adjustright \ql\rtlch\af15\afs20\expnd-6\expndtw-30 \ltrch\fs24\expnd-6\expndtw-30 \sbasedon0 \snext0 heading 4;}{\s5\ql\sl360\slmult1\keepn\nowidctlpar\widctlpar\adjustright \ql\rtlch\ab\af15\afs20 \ltrch\b\fs24 \sbasedon0 \snext0 heading 5;}{\s6\qc\keepn\nowidctlpar\widctlpar\adjustright \qc\rtlch\af15\afs28 \ltrch\fs24 \sbasedon0 \snext0 heading 6;}{\s7\qc\sl360\slmult1\keepn\nowidctlpar\widctlpar\adjustright \qc\rtlch\ab\af15\afs20 \ltrch\b\fs24 \sbasedon0 \snext0 heading 7;}{\s8\ql\li720\sl360\slmult1\keepn\nowidctlpar\widctlpar\adjustright \ql\rtlch\af15\afs20 \ltrch\fs24 \sbasedon0 \snext0 heading 8;}{\s9\ql\ri1440\sl360\slmult1\keepn\nowidctlpar\widctlpar\adjustright \ql\rtlch\af15\afs20 \ltrch\fs24 \sbasedon0 \snext0 heading 9;}{\*\cs10 \additive Default Paragraph Font;}{\s15\qc\nowidctlpar\widctlpar\adjustright \qc\rtlch\af15\afs20 \ltrch\fs28 \sbasedon0 \snext15 Title;}}{\*\listtable{\list\listtemplateid734668994\listsimple{\listlevel\levelnfc0\leveljc1\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'00.;}{\levelnumbers\'01;}\ltrch \strike0\shad0\embo0\impr0\caps0\v0\cf0\nosupersub\striked0 \rtlch \strike0\shad0\embo0\impr0\caps0\v0\f15\cf0\nosupersub\striked0 \fi-284\li454\jclisttab\tx530 }{\listname ;}\listid119344630}{\list\listtemplateid67960847\listsimple{\listlevel\levelnfc0\leveljc1\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'00.;}{\levelnumbers\'01;}\ltrch \rtlch \f15 \fi-72\li360\jclisttab\tx648 }{\listname ;}\listid125240668}{\list\listtemplateid67960837\listsimple{\listlevel\levelnfc25\leveljc1\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3929 ?;}{\levelnumbers;}\f14\fbias0 \fi-72\li360\jclisttab\tx648 }{\listname ;}\listid212888909}{\list\listtemplateid1908183542\listsimple{\listlevel\levelnfc6\leveljc1\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'00.;}{\levelnumbers\'01;}\ltrch \rtlch \f15 \fi-72\li360\jclisttab\tx648 }{\listname ;}\listid219753647}{\list\listtemplateid-398961648\listsimple{\listlevel\levelnfc6\leveljc1\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'00.;}{\levelnumbers\'01;}\ltrch \rtlch \f15 \fi-72\li360\jclisttab\tx648 }{\listname ;}\listid289753762}{\list\listtemplateid734668994\listsimple{\listlevel\levelnfc0\leveljc1\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'00.;}{\levelnumbers\'01;}\ltrch \strike0\shad0\embo0\impr0\caps0\v0\cf0\nosupersub\striked0 \rtlch \strike0\shad0\embo0\impr0\caps0\v0\f15\cf0\nosupersub\striked0 \fi-284\li454\jclisttab\tx530 }{\listname ;}\listid418139455}{\list\listtemplateid734668994\listsimple{\listlevel\levelnfc0\leveljc1\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'00.;}{\levelnumbers\'01;}\ltrch \strike0\shad0\embo0\impr0\caps0\v0\cf0\nosupersub\striked0 \rtlch \strike0\shad0\embo0\impr0\caps0\v0\f15\cf0\nosupersub\striked0 \fi-284\li454\jclisttab\tx530 }{\listname ;}\listid510993034}{\list\listtemplateid67960837\listsimple{\listlevel\levelnfc25\leveljc1\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3929 ?;}{\levelnumbers;}\f14\fbias0 \fi-72\li360\jclisttab\tx648 }{\listname ;}\listid522594658}{\list\listtemplateid1860233692\listsimple{\listlevel\levelnfc6\leveljc1\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext
\'02\'00.;}{\levelnumbers\'01;}\ltrch \rtlch \f15 \fi-279\li567\jclisttab\tx648 }{\listname ;}\listid562790253}{\list\listtemplateid734668994\listsimple{\listlevel\levelnfc0\leveljc1\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'00.;}{\levelnumbers\'01;}\ltrch \strike0\shad0\embo0\impr0\caps0\v0\cf0\nosupersub\striked0 \rtlch \strike0\shad0\embo0\impr0\caps0\v0\f15\cf0\nosupersub\striked0 \fi-284\li454\jclisttab\tx530 }{\listname ;}\listid869955900}{\list\listtemplateid-336435310\listsimple{\listlevel\levelnfc0\leveljc1\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'00.;}{\levelnumbers\'01;}\ltrch \fs24 \rtlch \f15\fs24 \fi-283\li340\jclisttab\tx417 }{\listname ;}\listid914512848}{\list\listtemplateid734668994\listsimple{\listlevel\levelnfc0\leveljc1\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'00.;}{\levelnumbers\'01;}\ltrch \strike0\shad0\embo0\impr0\caps0\v0\cf0\nosupersub\striked0 \rtlch \strike0\shad0\embo0\impr0\caps0\v0\f15\cf0\nosupersub\striked0 \fi-284\li454\jclisttab\tx530 }{\listname ;}\listid996030573}{\list\listtemplateid-1300836084\listsimple{\listlevel\levelnfc6\leveljc1\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'00.;}{\levelnumbers\'01;}\ltrch \rtlch \f15 \fi-340\li567\jclisttab\tx587 }{\listname ;}\listid1000542890}{\list\listtemplateid734668994\listsimple{\listlevel\levelnfc0\leveljc1\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'00.;}{\levelnumbers\'01;}\ltrch \strike0\shad0\embo0\impr0\caps0\v0\cf0\nosupersub\striked0 \rtlch \strike0\shad0\embo0\impr0\caps0\v0\f15\cf0\nosupersub\striked0 \fi-284\li454\jclisttab\tx530 }{\listname ;}\listid1029718684}{\list\listtemplateid1860233692\listsimple{\listlevel\levelnfc6\leveljc1\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'00.;}{\levelnumbers\'01;}\ltrch \rtlch \f15 \fi-279\li567\jclisttab\tx648 }{\listname ;}\listid1103526621}{\list\listtemplateid-1300836084\listsimple{\listlevel\levelnfc6\leveljc1\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'00.;}{\levelnumbers\'01;}\ltrch \rtlch \f15 \fi-340\li567\jclisttab\tx587 }{\listname ;}\listid1115101852}{\list\listtemplateid1860233692\listsimple{\listlevel\levelnfc6\leveljc1\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext
\'02\'00.;}{\levelnumbers\'01;}\ltrch \rtlch \f15 \fi-279\li567\jclisttab\tx648 }{\listname ;}\listid1214200629}{\list\listtemplateid1860233692\listsimple{\listlevel\levelnfc6\leveljc1\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'00.;}{\levelnumbers\'01;}\ltrch \rtlch \f15 \fi-279\li567\jclisttab\tx648 }{\listname ;}\listid1219198285}{\list\listtemplateid67960837\listsimple{\listlevel\levelnfc25\leveljc1\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'01\u-3929 ?;}{\levelnumbers;}\f14\fbias0 \fi-72\li360\jclisttab\tx648 }{\listname ;}\listid1242564137}{\list\listtemplateid1860233692\listsimple{\listlevel\levelnfc6\leveljc1\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'00.;}{\levelnumbers\'01;}\ltrch \rtlch \f15 \fi-279\li567\jclisttab\tx648 }{\listname ;}\listid1699428882}{\list\listtemplateid-1103093012\listsimple{\listlevel\levelnfc0\leveljc1\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'00.;}{\levelnumbers\'01;}\ltrch \rtlch \f15 \fi-284\li454\jclisttab\tx530 }{\listname ;}\listid1729765135}{\list\listtemplateid734668994\listsimple{\listlevel\levelnfc0\leveljc1\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'00.;}{\levelnumbers\'01;}\ltrch \strike0\shad0\embo0\impr0\caps0\v0\cf0\nosupersub\striked0 \rtlch \strike0\shad0\embo0\impr0\caps0\v0\f15\cf0\nosupersub\striked0 \fi-284\li454\jclisttab\tx530 }{\listname ;}\listid1759906743}{\list\listtemplateid734668994\listsimple{\listlevel\levelnfc0\leveljc1\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'00.;}{\levelnumbers\'01;}\ltrch \strike0\shad0\embo0\impr0\caps0\v0\cf0\nosupersub\striked0 \rtlch \strike0\shad0\embo0\impr0\caps0\v0\f15\cf0\nosupersub\striked0 \fi-284\li454\jclisttab\tx530 }{\listname ;}\listid1812332836}{\list\listtemplateid1908183542\listsimple{\listlevel\levelnfc6\leveljc1\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'00.;}{\levelnumbers\'01;}\ltrch \rtlch \f15 \fi-72\li360\jclisttab\tx648 }{\listname ;}\listid1872183915}{\list\listtemplateid1860233692\listsimple{\listlevel\levelnfc6\leveljc1\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext
\'02\'00.;}{\levelnumbers\'01;}\ltrch \rtlch \f15 \fi-279\li567\jclisttab\tx648 }{\listname ;}\listid1905599367}{\list\listtemplateid1860233692\listsimple{\listlevel\levelnfc6\leveljc1\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'00.;}{\levelnumbers\'01;}\ltrch \rtlch \f15 \fi-279\li567\jclisttab\tx648 }{\listname ;}\listid1945267978}{\list\listtemplateid734668994\listsimple{\listlevel\levelnfc0\leveljc1\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'00.;}{\levelnumbers\'01;}\ltrch \strike0\shad0\embo0\impr0\caps0\v0\cf0\nosupersub\striked0 \rtlch \strike0\shad0\embo0\impr0\caps0\v0\f15\cf0\nosupersub\striked0 \fi-284\li454\jclisttab\tx530 }{\listname ;}\listid1947687293}{\list\listtemplateid-1103093012\listsimple{\listlevel\levelnfc0\leveljc1\levelfollow0\levelstartat1\levelspace0\levelindent0{\leveltext\'02\'00.;}{\levelnumbers\'01;}\ltrch \rtlch \f15 \fi-284\li454\jclisttab\tx530 }{\listname ;}\listid2026710088}}{\*\listoverridetable{\listoverride\listid1729765135\listoverridecount0\ls1}{\listoverride\listid522594658\listoverridecount0\ls2}{\listoverride\listid1242564137\listoverridecount0\ls3}{\listoverride\listid2026710088\listoverridecount0\ls4}{\listoverride\listid119344630\listoverridecount0\ls5}{\listoverride\listid212888909\listoverridecount0\ls6}{\listoverride\listid1947687293\listoverridecount0\ls7}{\listoverride\listid1812332836\listoverridecount0\ls8}{\listoverride\listid1759906743\listoverridecount0\ls9}{\listoverride\listid418139455\listoverridecount0\ls10}{\listoverride\listid1029718684\listoverridecount0\ls11}{\listoverride\listid510993034\listoverridecount0\ls12}{\listoverride\listid869955900\listoverridecount0\ls13}{\listoverride\listid996030573\listoverridecount0\ls14}{\listoverride\listid914512848\listoverridecount0\ls15}{\listoverride\listid1872183915\listoverridecount0\ls16}{\listoverride\listid219753647\listoverridecount0\ls17}{\listoverride\listid1115101852\listoverridecount0\ls18}{\listoverride\listid1000542890\listoverridecount0\ls19}{\listoverride\listid289753762\listoverridecount0\ls20}{\listoverride\listid1103526621\listoverridecount0\ls21}{\listoverride\listid1945267978\listoverridecount0\ls22}{\listoverride\listid1699428882\listoverridecount0\ls23}{\listoverride\listid1905599367\listoverridecount0\ls24}{\listoverride\listid562790253\listoverridecount0\ls25}{\listoverride\listid125240668\listoverridecount0\ls26}{\listoverride\listid1219198285\listoverridecount0\ls27}{\listoverride\listid1214200629\listoverridecount0\ls28}}{\info{\title The DataBase Course}{\author דוד טלבי}{\operator דוד טלבי}{\creatim\yr1998\mo2\dy4\hr19\min50}{\revtim\yr1998\mo2\dy4\hr19\min50}{\printim\yr1998\mo2\dy4\hr19\min50}{\version2}{\edmins0}{\nofpages4}{\nofwords1026}{\nofchars5852}{\*\company  }{\nofcharsws7186}{\vern81}}\paperw11906\paperh16838\rtlsect \widowctrl\ftnbj\aenddoc\formshade\viewkind1\viewscale100\pgbrdrhead\pgbrdrfoot \fet0\ltrpar \qc\sectd \rtlsect\linex0\headery709\footery709\colsx709\endnhere\sectdefaultcl {\*\pnseclvl1\pnucrm\pnqc\pnstart1\pnindent720\pnhang{\pntxta .}}{\*\pnseclvl2\pnucltr\pnqc\pnstart1\pnindent720\pnhang{\pntxta .}}{\*\pnseclvl3\pndec\pnqc\pnstart1\pnindent720\pnhang{\pntxta .}}{\*\pnseclvl4\pnlcltr\pnqc\pnstart1\pnindent720\pnhang{\pntxta )}}{\*\pnseclvl5\pndec\pnqc\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl6\pnlcltr\pnqc\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl7\pnlcrm\pnqc\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl8\pnlcltr\pnqc\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}{\*\pnseclvl9\pnlcrm\pnqc\pnstart1\pnindent720\pnhang{\pntxtb (}{\pntxta )}}\pard\plain \ltrpar\qc\s15\qc\sl480\slmult1\nowidctlpar\widctlpar\adjustright \rtlch\af15\afs20 \ltrch\fs28 {\rtlch \af15 \ltrch The Databases Course
\par }\pard\plain \ltrpar\qc\s1\qc\sl480\slmult1\keepn\nowidctlpar\widctlpar\outlinelevel0\adjustright \rtlch\af15\afs20 \ltrch\fs32 {\rtlch \af15 \ltrch Solution of Exercise No. 10
\par }\pard\plain \ltrpar\qc\s6\qc\keepn\nowidctlpar\widctlpar\outlinelevel5\adjustright \rtlch\af15\afs28 \ltrch\fs24 {\rtlch \af15 \ltrch Datalog and Concurrency Control
\par }\pard\plain \ltrpar\ql\ql\sl360\slmult1\nowidctlpar\widctlpar\adjustright \rtlch\af15\afs20 \ltrch\fs20 {\rtlch \af15 \ltrch 
\par }\pard\plain \ltrpar\ql\s3\ql\sl360\slmult1\keepn\nowidctlpar\widctlpar\outlinelevel2\adjustright \rtlch\ab\af15\afs20\aul \ltrch\b\fs24\ul {\rtlch \af15 \ltrch 
\par }\pard\plain \ltrpar\ql\s4\ql\sl360\slmult1\keepn\nowidctlpar\widctlpar\outlinelevel3\adjustright \rtlch\af15\afs20\expnd-6\expndtw-30 \ltrch\fs24\expnd-6\expndtw-30 {\rtlch \ab\af15\aul\expnd0\expndtw0 \ltrch \b\ul\expnd0\expndtw0 Question 1
\par }\pard\plain \rtlpar\qr\nowidctlpar\widctlpar\adjustright \rtlch\af15\afs20 \ltrch\fs20 {\rtlch \af15 \ltrch 
\par {\pntext\pard\plain\ltrpar\ql\rtlch\af15\afs20\cgrid0 \ltrch\cgrid0 \'61\'2e\tab}}\pard \ltrpar\ql\ql\fi-279\li567\sl360\slmult1\nowidctlpar\widctlpar\jclisttab\tx648{\*\pn \pnlvlbody\ilvl0\ls23\pnrnot0\pnlcltr\pnstart1\pnindent648\pnhang{\pntxta .}}\ls23\adjustright {\rtlch \af15 \ltrch \fs24 Same-gen(X,Y) :- child-of(X,Z), child-of(Y,Z).\line Same-gen(X,Y) :- child-of(X,P), child-of(Y,Q), same-gen(P,Q).
\par {\pntext\pard\plain\ltrpar\ql\rtlch\af15\afs20\cgrid0 \ltrch\cgrid0 \'62\'2e\tab}}\pard \ltrpar\ql\ql\fi-279\li567\sl360\slmult1\nowidctlpar\widctlpar\jclisttab\tx648{\*\pn \pnlvlbody\ilvl0\ls23\pnrnot0\pnlcltr\pnstart1\pnindent648\pnhang{\pntxta .}}\ls23\adjustright {\rtlch \af15 \ltrch \fs24 Odd-path(X,Y) :- G(X,Y)\line Odd-path(X,Y) :- G(X,P), G(P}{\rtlch \af15 \ltrch \fs24 ,Q), Odd-path(Q,Y)\line Odd-vertex(X,Y) :- odd-path(X,X)
\par {\pntext\pard\plain\ltrpar\ql\rtlch\af15\afs20\cgrid0 \ltrch\cgrid0 \'63\'2e\tab}}\pard \ltrpar\ql\ql\fi-279\li567\sl360\slmult1\nowidctlpar\widctlpar\jclisttab\tx648{\*\pn \pnlvlbody\ilvl0\ls23\pnrnot0\pnlcltr\pnstart1\pnindent648\pnhang{\pntxta .}}\ls23\adjustright {\rtlch \af15 \ltrch \fs24 1-col-paths(X,Y,C}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 ) :- G(X,Y,C}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 )\line 1-col-paths(X,Y,C}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 ) :- 1-col-paths(X,Z,C}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 ), 1-col-paths(Z,Y,C}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 )\line 2-col-paths(X,Y,C}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 ,C}{\rtlch \af15\sub \ltrch \fs24\sub 2}{\rtlch \af15 \ltrch \fs24 ) :- 1-col-paths(X,Z,C}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 ), 1-col-paths(Z,Y,C}{\rtlch \af15\sub \ltrch \fs24\sub 2}{\rtlch \af15 \ltrch \fs24 ), }{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 185 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24 (C}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 ,C}{\rtlch \af15\sub \ltrch \fs24\sub 2}{\rtlch \af15 \ltrch \fs24 )
\par }\pard \ltrpar\ql\ql\sl360\slmult1\nowidctlpar\widctlpar\adjustright {\rtlch \af15 \ltrch \fs24 
\par }{\rtlch \af15 \ltrch \fs24 
\par }\pard\plain \ltrpar\ql\s4\ql\sl360\slmult1\keepn\nowidctlpar\widctlpar\outlinelevel3\adjustright \rtlch\af15\afs20\expnd-6\expndtw-30 \ltrch\fs24\expnd-6\expndtw-30 {\rtlch \ab\af15\aul\expnd0\expndtw0 \ltrch \b\ul\expnd0\expndtw0 Question 2
\par {\pntext\pard\plain\ltrpar\ql\rtlch\af15\afs20\cgrid0 \ltrch\cgrid0 \'61\'2e\tab}}\pard\plain \ltrpar\ql\ql\fi-279\li567\sl360\slmult1\nowidctlpar\widctlpar\jclisttab\tx648{\*\pn \pnlvlbody\ilvl0\ls27\pnrnot0\pnlcltr\pnstart1\pnindent648\pnhang{\pntxta .}}\ls27\adjustright \rtlch\af15\afs20 \ltrch\fs20 {\rtlch \af15 \ltrch \fs24 Proof by inductio}{\rtlch \af15 \ltrch \fs24 n on the structure of Q. Basis: If Q = R}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24  and R}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24  has attributes a}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 , …, a}{\rtlch \af15\sub \ltrch \fs24\sub m}{\rtlch \af15 \ltrch \fs24  then the equivalent datalog program is:\line Q(A}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 ,…,A}{\rtlch \af15\sub \ltrch \fs24\sub m}{\rtlch \af15 \ltrch \fs24 ) :- R}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 (A}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 ,…A}{\rtlch \af15\sub \ltrch \fs24\sub m}{\rtlch \af15 \ltrch \fs24 ).\line If Q = R}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24  }{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 200 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24  R}{\rtlch \af15\sub \ltrch \fs24\sub 2}{\rtlch \af15 \ltrch \fs24  and the datalog queries that we have by induction for R}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 , R}{\rtlch \af15\sub \ltrch \fs24\sub 2}{\rtlch \af15 \ltrch \fs24  are Q}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 , Q}{\rtlch \af15\sub \ltrch \fs24\sub 2}{\rtlch \af15 \ltrch \fs24  then the equivalent of Q is:\line }{\rtlch \af15 \ltrch \fs24 Q(A}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 ,…,A}{\rtlch \af15\sub \ltrch \fs24\sub m}{\rtlch \af15 \ltrch \fs24 ) :- Q}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 (A}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 ,…,A}{\rtlch \af15\sub \ltrch \fs24\sub m}{\rtlch \af15 \ltrch \fs24 )\line Q(A}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 ,…,A}{\rtlch \af15\sub \ltrch \fs24\sub m}{\rtlch \af15 \ltrch \fs24 ) :- Q}{\rtlch \af15\sub \ltrch \fs24\sub 2}{\rtlch \af15 \ltrch \fs24 (A}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 ,…,A}{\rtlch \af15\sub \ltrch \fs24\sub m}{\rtlch \af15 \ltrch \fs24 )\line If Q = R1 }{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 180 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24  R2 then, we the above notation:\line Q(A}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 ,…,A}{\rtlch \af15\sub \ltrch \fs24\sub m}{\rtlch \af15 \ltrch \fs24 ,B}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 ,…,B}{\rtlch \af15\sub \ltrch \fs24\sub r}{\rtlch \af15 \ltrch \fs24 ) :- Q}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 (A}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 ,…,A}{\rtlch \af15\sub \ltrch \fs24\sub m}{\rtlch \af15 \ltrch \fs24 ), Q}{\rtlch \af15\sub \ltrch \fs24\sub 2}{\rtlch \af15 \ltrch \fs24 (B}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 ,…,B}{\rtlch \af15\sub \ltrch \fs24\sub r}{\rtlch \af15 \ltrch \fs24 )\line If Q = }{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 80 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15\sub \ltrch \fs24\sub Ai1,…,Aim}{\rtlch \af15 \ltrch \fs24 (R}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 ) then:\line Q(A}{\rtlch \af15\sub \ltrch \fs24\sub i1}{\rtlch \af15 \ltrch \fs24 ,…,A}{\rtlch \af15\sub \ltrch \fs24\sub im}{\rtlch \af15 \ltrch \fs24 ) :- Q}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 (A}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 ,…,A}{\rtlch \af15\sub \ltrch \fs24\sub n}{\rtlch \af15 \ltrch \fs24 )\line Note that this query is secure: Not all variables in the }{\rtlch \af15 \ltrch \fs24 body have to appear in the head \endash  safety only demands that all variables that appear in the head will appear (in a positive atom) in the body).\line \line If Q = }{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 115 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15\sub \ltrch \fs24\sub cond}{\rtlch \af15 \ltrch \fs24 (R1) where cond is Ai > Aj for example (other cases are the same) then the datalog query is:\line Q(A1,…}{\rtlch \af15 \ltrch \fs24 ,Am) :- Q1(A1,…,Am), >(Ai,Aj)\line In exercise 2 question 2 you proved that all other complex conditions can be represented by =(X,Y), >(X,Y) and the other algebra operators.\line If Q = R1 \endash  R2 then the datalog query is:\line Q(A1,…,Am) :- Q1(A1,…,Am), }{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 216 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24 Q2(A1,…,Am)\line The }{\rtlch \af15 \ltrch \fs24 proof is complete because we proved the induction step for all cases.
\par {\pntext\pard\plain\ltrpar\ql\rtlch\af15\afs20\cgrid0 \ltrch\cgrid0 \'62\'2e\tab}}\pard \ltrpar\ql\ql\fi-279\li567\sl360\slmult1\nowidctlpar\widctlpar\jclisttab\tx648{\*\pn \pnlvlbody\ilvl0\ls27\pnrnot0\pnlcltr\pnstart1\pnindent648\pnhang{\pntxta .}}\ls27\adjustright {\rtlch \af15 \ltrch \fs24 The set of algebra queries that can be represented by datalog programs without negation is the set of queries that can be written without the minus operator. This is because as we shown }{\rtlch \af15 \ltrch \fs24 in (a) any algebra query without the minus operator can be represented by datalog without negation, and because we know that it is impossible to represent minus without negation, because minus is non-monotonic and datalog without negation is monotonic.
\par }\pard \ltrpar\ql\ql\sl360\slmult1\nowidctlpar\widctlpar\adjustright {\rtlch \af15 \ltrch \fs24 
\par }{\rtlch \af15 \ltrch \fs24 
\par }\pard\plain \ltrpar\ql\s4\ql\sl360\slmult1\keepn\nowidctlpar\widctlpar\outlinelevel3\adjustright \rtlch\af15\afs20\expnd-6\expndtw-30 \ltrch\fs24\expnd-6\expndtw-30 {\rtlch \ab\af15\aul\expnd0\expndtw0 \ltrch \b\ul\expnd0\expndtw0 Q}{\rtlch \ab\af15\aul\expnd0\expndtw0 \ltrch \b\ul\expnd0\expndtw0 uestion 3
\par }\pard\plain \ltrpar\ql\ql\sl360\slmult1\nowidctlpar\widctlpar\adjustright \rtlch\af15\afs20 \ltrch\fs20 {\rtlch \af15 \ltrch \fs24 Let Q be a safe datalog query, possibly with negation, with an active domain D}{\rtlch \af15\sub \ltrch \fs24\sub Q}{\rtlch \af15 \ltrch \fs24 . Let D be a superset of D}{\rtlch \af15\sub \ltrch \fs24\sub Q}{\rtlch \af15 \ltrch \fs24  \endash  we\rquote ll prove that Q}{\rtlch \af15\sub \ltrch \fs24\sub Dq}{\rtlch \af15 \ltrch \fs24  = Q}{\rtlch \af15\sub \ltrch \fs24\sub D}{\rtlch \af15 \ltrch \fs24 . Then, for each two supersets D}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 , D}{\rtlch \af15\sub \ltrch \fs24\sub 2}{\rtlch \af15 \ltrch \fs24  of D}{\rtlch \af15\sub \ltrch \fs24\sub Q}{\rtlch \af15 \ltrch \fs24  we\rquote ll have Q}{\rtlch \af15\sub \ltrch \fs24\sub Dq}{\rtlch \af15 \ltrch \fs24  = Q}{\rtlch \af15\sub \ltrch \fs24\sub D1}{\rtlch \af15 \ltrch \fs24  and Q}{\rtlch \af15\sub \ltrch \fs24\sub Dq}{\rtlch \af15 \ltrch \fs24  = Q}{\rtlch \af15\sub \ltrch \fs24\sub D2}{\rtlch \af15 \ltrch \fs24  and by transitivity Q}{\rtlch \af15\sub \ltrch \fs24\sub D1}{\rtlch \af15 \ltrch \fs24  = Q}{\rtlch \af15\sub \ltrch \fs24\sub D2}{\rtlch \af15 \ltrch \fs24 .
\par }{\rtlch \af15 \ltrch \fs24 Fo}{\rtlch \af15 \ltrch \fs24 r each conclusion R(a}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 ,…,a}{\rtlch \af15\sub \ltrch \fs24\sub n}{\rtlch \af15 \ltrch \fs24 ), we have to prove that it belongs to the result of Q}{\rtlch \af15\sub \ltrch \fs24\sub Dq}{\rtlch \af15 \ltrch \fs24  iff it belongs to the result of Q}{\rtlch \af15\sub \ltrch \fs24\sub D}{\rtlch \af15 \ltrch \fs24 . Let R(a}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 ,…,a}{\rtlch \af15\sub \ltrch \fs24\sub n}{\rtlch \af15 \ltrch \fs24 ) be in the result of Q}{\rtlch \af15\sub \ltrch \fs24\sub D1}{\rtlch \af15 \ltrch \fs24 . Then by definition there is a rule H:-B in Q and an assignment }{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 115 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24  such that }{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 115 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24 (B) }{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 205 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24  Q}{\rtlch \af15\sub \ltrch \fs24\sub D1}{\rtlch \af15 \ltrch \fs24  and }{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 115 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24 (H) =}{\rtlch \af15 \ltrch \fs24  R(a}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24 ,…,a}{\rtlch \af15\sub \ltrch \fs24\sub n}{\rtlch \af15 \ltrch \fs24 ).
\par }{\rtlch \af15 \ltrch \fs24 Because Q is safe, then every variable in the domain of }{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 115 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24  appears at least once in a positive atom. This means that }{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 115 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24  only uses constants from the active domain, as we\rquote ll prove by splitting to two cases. First, If H:-B uses only EDB predicates}{\rtlch \af15 \ltrch \fs24  in B, then clearly any assignment that assigns variables to values such that }{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 115 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24 (B) }{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 205 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24  Q}{\rtlch \af15\sub \ltrch \fs24\sub D1}{\rtlch \af15 \ltrch \fs24  must only use constants from the EDB or B itself \endash  and that is how the active domain D}{\rtlch \af15\sub \ltrch \fs24\sub Q}{\rtlch \af15 \ltrch \fs24  is defined. Second, if H:-B uses IDB predicates, then because all \ldblquote useful\rdblquote  (in }{\rtlch \af15 \ltrch \fs24 the sense of creating conclusions) assignments of EDB-rules only assign values from the active domain, then all conclusions from such rules must only contain values from the active domain Therefore, by induction, all further useful assignments will only u}{\rtlch \af15 \ltrch \fs24 s}{\rtlch \af15 \ltrch \fs24 e values from the active domain \endash  because safety ensures that every variable must appear in a positive atom, and an assignment to a positive atom is only \lquote true\rquote  when the assigned constants already exist in a tuple of that predicate. We conclude that becau}{\rtlch \af15 \ltrch \fs24 s}{\rtlch \af15 \ltrch \fs24 e all conclusions of running Q on D}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24  must come from DQ, then Q}{\rtlch \af15\sub \ltrch \fs24\sub D1}{\rtlch \af15 \ltrch \fs24  }{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 205 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24  Q}{\rtlch \af15\sub \ltrch \fs24\sub Dq}{\rtlch \af15 \ltrch \fs24 .
\par }{\rtlch \af15 \ltrch \fs24 We also need to show that Q}{\rtlch \af15\sub \ltrch \fs24\sub Dq}{\rtlch \af15 \ltrch \fs24  }{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 205 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24  Q}{\rtlch \af15\sub \ltrch \fs24\sub D1}{\rtlch \af15 \ltrch \fs24 , or the fact that enlarging D}{\rtlch \af15\sub \ltrch \fs24\sub Q}{\rtlch \af15 \ltrch \fs24  to D}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24  doesn\rquote t remove conclusions that were previously true. This is true because that every assignment }{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 115 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24  that produce}{\rtlch \af15 \ltrch \fs24 d a conclusion in Q}{\rtlch \af15\sub \ltrch \fs24\sub Dq }{\rtlch \af15 \ltrch \fs24 is still a legal assignment under D}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24  (its range is contained in D}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24  because D}{\rtlch \af15\sub \ltrch \fs24\sub 1}{\rtlch \af15 \ltrch \fs24  }{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 202 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24  D}{\rtlch \af15\sub \ltrch \fs24\sub Q}{\rtlch \af15 \ltrch \fs24 ). }{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 115 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24  Also produces the same conclusion it produced under D}{\rtlch \af15\sub \ltrch \fs24\sub Q}{\rtlch \af15 \ltrch \fs24 , because the addition of new constants in D1 doesn\rquote t change the EDB or the IDB rules themsel}{\rtlch \af15 \ltrch \fs24 ves, and there if for a rule H:-B all of }{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 115 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24 (B) was true in D}{\rtlch \af15\sub \ltrch \fs24\sub Q}{\rtlch \af15 \ltrch \fs24 , then it must also be true in D1, and produce the same conclusion }{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 115 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24 (H).
\par }{\rtlch \af15 \ltrch \fs24 We showed Q}{\rtlch \af15\sub \ltrch \fs24\sub D1}{\rtlch \af15 \ltrch \fs24  }{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 205 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24  Q}{\rtlch \af15\sub \ltrch \fs24\sub Dq }{\rtlch \af15 \ltrch \fs24 and Q}{\rtlch \af15\sub \ltrch \fs24\sub Dq}{\rtlch \af15 \ltrch \fs24  }{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 205 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24  Q}{\rtlch \af15\sub \ltrch \fs24\sub D1}{\rtlch \af15 \ltrch \fs24  for any D1, therefore Q}{\rtlch \af15\sub \ltrch \fs24\sub Dq}{\rtlch \af15 \ltrch \fs24  = Q}{\rtlch \af15\sub \ltrch \fs24\sub D}{\rtlch \af15 \ltrch \fs24  and the proof is complete.
\par }{\rtlch \af15 \ltrch \fs24 
\par }{\rtlch \af15 \ltrch \fs24 
\par }\pard\plain \ltrpar\ql\s4\ql\sl360\slmult1\keepn\nowidctlpar\widctlpar\outlinelevel3\adjustright \rtlch\af15\afs20\expnd-6\expndtw-30 \ltrch\fs24\expnd-6\expndtw-30 {\rtlch \ab\af15\aul\expnd0\expndtw0 \ltrch \b\ul\expnd0\expndtw0 Question 4
\par }\pard\plain \ltrpar\ql\ql\sl360\slmult1\nowidctlpar\widctlpar\adjustright \rtlch\af15\afs20 \ltrch\fs20 {\rtlch \af15 \ltrch \fs24 Because we must us}{\rtlch \af15 \ltrch \fs24 e two transactions and two items, then the absolute minimum for producing a schedule as requested has four Lock-Unlock steps (eight actions). We can\rquote t use fewer steps because in order to have a circle we must have at least two arcs in the schedule graph; }{\rtlch \af15 \ltrch \fs24 t}{\rtlch \af15 \ltrch \fs24 herefore each transaction must lock and unlock each item at least once, which gives a minimum of four steps.
\par }{\rtlch \af15 \ltrch \fs24 The following schedule has four steps and is not serializable:
\par }{\rtlch \af15 \ltrch \fs24 T1:LOCK(A),T1:UNLOCK(A),T2:LOCK(B),T2:UNLOCK(B),T1:LOCK(B),\line T1:UNLOCK(B),T2:LOCK(A),}{\rtlch \af15 \ltrch \fs24 T2:UNLOCK(A)
\par }{\rtlch \af15 \ltrch \fs24 This schedule\rquote s graph has two vertices T1,T2 and two arcs T1}{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 174 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24 T2 and T2}{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 174 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24 T1. So a trivial circle is created, and the schedule is not serializable.
\par }{\rtlch \af15 \ltrch \fs24 Note that if we needed to schedule only one item, a shorter schedule was possible:
\par }{\rtlch \af15 \ltrch \fs24 T1:LOCK(A),T1:U}{\rtlch \af15 \ltrch \fs24 NLOCK(A),T2:LOCK(A),T2:UNLOCK(A),T1:LOCK(A),\line T1:UNLOCK(A)
\par }{\rtlch \af15 \ltrch \fs24 But the question required scheduling two items.
\par }{\rtlch \af15 \ltrch \fs24 
\par }{\rtlch \af15 \ltrch \fs24 
\par }\pard\plain \ltrpar\ql\s4\ql\sl360\slmult1\keepn\nowidctlpar\widctlpar\outlinelevel3\adjustright \rtlch\af15\afs20\expnd-6\expndtw-30 \ltrch\fs24\expnd-6\expndtw-30 {\rtlch \ab\af15\aul\expnd0\expndtw0 \ltrch \b\ul\expnd0\expndtw0 Question 5
\par {\pntext\pard\plain\ltrpar\ql\rtlch\af15\afs20\cgrid0 \ltrch\cgrid0 \'61\'2e\tab}}\pard\plain \ltrpar\ql\ql\fi-279\li567\sl360\slmult1\nowidctlpar\widctlpar\jclisttab\tx648{\*\pn \pnlvlbody\ilvl0\ls25\pnrnot0\pnlcltr\pnstart1\pnindent648\pnhang{\pntxta .}}\ls25\adjustright \rtlch\af15\afs20 \ltrch\fs20 {\rtlch \af15 \ltrch \fs24 The schedule graph of the given schedule G=<V,E> is:\line V = \{ T1, T2, T3, T4 \}\line E = \{ T1}{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 174 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24 T3, T1}{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 174 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24 T4, T3}{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 174 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24 T4, T4}{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 174 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24 T2 \}
\par {\pntext\pard\plain\ltrpar\ql\rtlch\af15\afs20\cgrid0 \ltrch\cgrid0 \'62\'2e\tab}}\pard \ltrpar\ql\ql\fi-279\li567\sl360\slmult1\nowidctlpar\widctlpar\jclisttab\tx648{\*\pn \pnlvlbody\ilvl0\ls25\pnrnot0\pnlcltr\pnstart1\pnindent648\pnhang{\pntxta .}}\ls25\adjustright {\rtlch \af15 \ltrch \fs24 The graph doesn\rquote t have cir}{\rtlch \af15 \ltrch \fs24 cles so an equivalent serial schedule exists. The algorithm to find it is simply to run topological sort on the graph, which gives the following serial schedule: T1, T3, T4, T2.
\par {\pntext\pard\plain\ltrpar\ql\rtlch\af15\afs20\cgrid0 \ltrch\cgrid0 \'63\'2e\tab}}\pard \ltrpar\ql\ql\fi-279\li567\sl360\slmult1\nowidctlpar\widctlpar\jclisttab\tx648{\*\pn \pnlvlbody\ilvl0\ls25\pnrnot0\pnlcltr\pnstart1\pnindent648\pnhang{\pntxta .}}\ls25\adjustright {\rtlch \af15 \ltrch \fs24 If we add this to the end of the schedule: T1:LOCK(A), T1:UNLOCK(A)\line then the e}{\rtlch \af15 \ltrch \fs24 dge T4}{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 174 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24 T1 will be added to the edges set of G, and then the graph will contain a circle T1}{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 174 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24 T3}{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 174 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24 T4}{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 174 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24 T2}{\rtlch \af15 \ltrch \fs24 {\field{\*\fldinst SYMBOL 174 \\f "Symbol" \\s 12}{\fldrslt\f3\fs24}}}{\rtlch \af15 \ltrch \fs24 T1, and won\rquote t be serializable.
\par }\pard \ltrpar\ql\ql\sl360\slmult1\nowidctlpar\widctlpar\adjustright {\rtlch \af15 \ltrch \fs24 
\par }{\rtlch \af15 \ltrch \fs24 
\par }\pard\plain \ltrpar\ql\s4\ql\sl360\slmult1\keepn\nowidctlpar\widctlpar\outlinelevel3\adjustright \rtlch\af15\afs20\expnd-6\expndtw-30 \ltrch\fs24\expnd-6\expndtw-30 {\rtlch \ab\af15\aul\expnd0\expndtw0 \ltrch \b\ul\expnd0\expndtw0 Question 6
\par {\pntext\pard\plain\ltrpar\ql\rtlch\af15\afs20\cgrid0 \ltrch\cgrid0 \'61\'2e\tab}}\pard\plain \ltrpar\ql\ql\fi-279\li567\sl360\slmult1\nowidctlpar\widctlpar\jclisttab\tx648{\*\pn \pnlvlbody\ilvl0\ls28\pnrnot0\pnlcltr\pnstart1\pnindent648\pnhang{\pntxta .}}\ls28\adjustright \rtlch\af15\afs20 \ltrch\fs20 {\rtlch \af15 \ltrch \fs24 For example, let\rquote s assume that T1 and T2 both need an item A for reading only. If each of them takes an hour to }{\rtlch \af15 \ltrch \fs24 complete, then with read locks (which will enable both T1 and T2 to work concurrently on A) both transactions will finish in an hour. Without read locks, one of the transactions will have to wait for the other to finish first, and the total running time w}{\rtlch \af15 \ltrch \fs24 i}{\rtlch \af15 \ltrch \fs24 ll be two hours. Of course, there could be more than two transactions trying to access A concurrently, and with different running times, but this is not the point \endash  the point is that if something can be done faster, there\rquote s no reason not to do it as fast }{\rtlch \af15 \ltrch \fs24 a}{\rtlch \af15 \ltrch \fs24 s possible.
\par {\pntext\pard\plain\ltrpar\ql\rtlch\af15\afs20\cgrid0 \ltrch\cgrid0 \'62\'2e\tab}}\pard \ltrpar\ql\ql\fi-279\li567\sl360\slmult1\nowidctlpar\widctlpar\jclisttab\tx648{\*\pn \pnlvlbody\ilvl0\ls28\pnrnot0\pnlcltr\pnstart1\pnindent648\pnhang{\pntxta .}}\ls28\adjustright {\rtlch \af15 \ltrch \fs24 Yes, read locks are necessary to ensure the correctness of a set of transactions running in parallel. For example, consider the following schedule:\line T1 \endash  reads item A (and doesn\rquote t lock it)\line T2:LOCK(A) \endash  T2 takes a write lock on A\line T2 computes A :=}{\rtlch \af15 \ltrch \fs24  A + 1\line T2:UNLOCK(A) \endash  T2 writes the new value of A\line T1 computes A := A + 1  \endash  but T1 is using the old A here!\line T1 print A to the user \endash  then A}{\rtlch \af15\sub \ltrch \fs24\sub 0}{\rtlch \af15 \ltrch \fs24 +1 is printed instead of A}{\rtlch \af15\sub \ltrch \fs24\sub 0}{\rtlch \af15 \ltrch \fs24 +2!\line Transactions that read an item must know that its value is valid and does not change}{\rtlch \af15 \ltrch \fs24  while it is in their memory, as happened in the above schedule. Read locks prevent other transactions from changing A\rquote s value after someone else read it and is still using its value. 
\par }}
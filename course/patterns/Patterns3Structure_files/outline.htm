<html>

<head>
<meta http-equiv=Content-Type content="text/html; charset=windows-1255">
<meta name=ProgId content=PowerPoint.Slide>
<meta name=Generator content="Microsoft PowerPoint 9">
<link id=Main-File rel=Main-File href="../Patterns3Structure.htm">
<link rel=Preview href=preview.wmf>
<meta name=Robots content=NoIndex>
<script src=script.js></script><script><!--

if( !(IsWin("PPTOtl")||IsWin("PPTNav")||IsWin("PPTOtlNav")) )
{
	obj = document.all.item("Main-File")
	parent.location.href=obj.href
}

var gOtlHiliteClr="#000000",gOtlNormalClr="#FFFFFF",gOtlActiveClr="#0000FF",gSelected="",gTxtState=false,gChildEntryTable=new Array()

function Load()
{
	if( IsWin("PPTOtl" ) ){ LoadOtl(); parent.gOtlLoaded=true; return }
	if( IsWin("PPTNav" ) ){ LoadNav("NavObj",UpdNav); parent.gNavLoaded=true; return }
	if( IsWin("PPTOtlNav" ) ){ LoadNav("OtlNavObj",UpdOtlNav); parent.gOtlNavLoaded=true; return }
}
function Upd(){ if( IsWin("PPTNav") ) LoadNav("NavObj",UpdNav) }
function LoadNav( oId,UpdFunc )
{
	document.ondragstart=CancelDrag
	document.onselectstart=CancelDrag
	document.body.style.margin=2
	UpdFunc()
	obj=document.all.item(oId)
	obj.style.display="block"
	obj.style.visibility="visible"
	document.bgColor="threedface"
}
function LoadOtl()
{
	document.ondragstart=CancelDrag
	document.onselectstart=CancelDrag
	OtlObj.style.display="block"
	OtlObj.style.visibility="visible"
	if( gOtlActiveClr == "" ) gOtlActiveClr=document.linkColor
	if( gOtlHiliteClr == "" ) gOtlHiliteClr=document.fgColor
	if( gOtlNormalClr == "" )
		gOtlNormalClr=document.bgColor
	else
		document.bgColor=gOtlNormalClr  

	InitArray()

	if( ObjExists( parent.gCurSld ) ) {
		ChangeState( parent.gCurSld,gOtlNormalClr,gOtlHiliteClr )
		gSelected=parent.gCurSld
	}
	else gSelected = -1

	UpdOtl()
}
function UpdOtl(){ UpdIdx(parent.gCurSld) }
function UpdIdx( idx )
{
	if( gSelected != idx ) {
		if( gSelected > 0 )
			ChangeState( gSelected,gOtlHiliteClr,gOtlNormalClr )

		if( ObjExists( idx ) ) {
			gSelected = idx
			ChangeState( gSelected,gOtlNormalClr,gOtlHiliteClr )
		}
		else gSelected = -1
	}

	if( gTxtState != parent.gOtlTxtExp ) {
		state = "block"
		if( !parent.gOtlTxtExp )
			state="none"

		for(ii=0; ii<gChildEntryTable.length; ii++) {
			obj=gChildEntryTable[ii];
			if( obj.id == null ) continue;

			if( obj.id.indexOf("PPTC") >= 0 )
				obj.style.display=state;
		} 
		gTxtState=parent.gOtlTxtExp
		if( ObjExists( gSelected ) )
			ChangeState( gSelected,gOtlNormalClr,gOtlHiliteClr )
	}
}
function InitArray()
{
	count=0
	for(ii=0; ii<document.all.tags("DIV").length; ii++) {
		obj=document.all.tags("DIV").item(ii)
		if( obj.id == null ) continue

		if( obj.id.indexOf("PPTC") >= 0 ) {   
			gChildEntryTable[count++]=obj
			obj.children.tags("TABLE").item(0).style.borderColor=gOtlNormalClr
		}
	}
}
function ChangeState( idx,fgColor,bgColor )
{
	obj=document.all.item("PPTL"+idx)
	obj.style.color=fgColor

	obj=document.all.item("PPTP"+idx)
	obj.style.backgroundColor=bgColor

	obj=document.all.item("PPTB"+idx)
	if( obj )
		obj.style.borderLeftColor=obj.style.borderBottomColor=bgColor
}
function ChgClr( o,clr ){ if( o.id != "PPTL"+gSelected ) o.style.color=clr }
function Over( obj ){ ChgClr(obj,gOtlActiveClr) }
function Out( obj ){ ChgClr(obj,gOtlHiliteClr) }
function ObjExists( ii ) { obj=document.all("PPTP"+ii ); return( obj ) }
function GoToSld( href ){ UpdIdx(parent.GetSldNum(href)); parent.GoToSld( href ) }
function CancelDrag(){ window.event.cancelBubble=true;window.event.returnValue=false}

function UpdNav()
{
	txt = "<center>";
	if( parent.GetHrefObj( parent.gCurSld ).mOrigVis == 1 )
		txt += "Slide " + parent.GetCurSldNum() + " of " + parent.GetNumSlds()
	else
		txt += "Hidden Slide"
	txt += "</center>";
	nav_text.innerHTML = txt;

	if( !parent.HasPrevSld() )
		gBtnArr["nb_prev"].Enabled(0)
	else
		gBtnArr["nb_prev"].Enabled(1)

	if( !parent.HasNextSld() )
		gBtnArr["nb_next"].Enabled(0)
	else
		gBtnArr["nb_next"].Enabled(1)
	gBtnArr["nb_nts"].SetEnabled()
	gBtnArr["nb_nts"].SetFlag( parent.gHasNts )

	gBtnArr["nb_sldshw"].Enabled(1)
	gBtnArr["nb_voice"].Enabled(1)
}

function UpdOtlNav()
{
	gBtnArr["nb_otl"].SetEnabled();

	if( parent.gOtlOpen )
		gBtnArr["nb_otlTxt"].Enabled( true );
	else
		document.all.item("nb_otlTxtBorder").style.visibility = "hidden";
}



//-->
</script>
<style>
<!--.PTxt
	{position:relative;
	width:100%;
	margin-top:5px;
	padding-left:5px;
	font-weight:bold;}
.CTxt
	{position:relative;
	width:100%;
	padding-left:10px;}
.CBorder
	{position:relative;
	width:100%;
	border-style:solid;
	border-width:1px;
	border-color:white;
	padding-bottom:5px;}
a
	{color:black;
	text-decoration:none;}
.button
	{position:absolute;
	width:32px;
	height:20px;
	border-style:solid;
	border-width:1px;
	border-color:threedface;}
-->
</style>
</head>

<body onload="Load()">

<div id=NavObj onload="Load()" onmouseover="BtnOnOver()"
onmousedown="BtnOnDown()" onmouseout="BtnOnOut()" onmouseup="BtnOnUp()"
onkeypress="_KPH()" style='display:none;visibility:hidden'>

<table style='position:absolute;width:70px;visibility:hidden' align=left
 cellpadding=0 cellspacing=0>
 <td nowrap>
 <div id="nb_ntsElem" align=center style='position:relative;padding:3px;
 font-family:Arial;color:buttontext;font-size:9pt'><img src="notes_flag.gif"
 border=0 id="notes_flag" style='display:none'><span style="mso-spacerun:
 yes">&nbsp; </span>Notes</div>
 <div title="Show/Hide Notes" id="nb_nts" style='position:absolute;top:0%;
 left:0%;width:100%;height:100%'></div>
 </td>
</table>

<table style='position:relative' align=right cellpadding=0 cellspacing=0>
 <td>
 <div id="nb_sldshwBorder" style='position:absolute;left:-20px;width:20px;
 height:20px'>
 <div style='position:absolute;clip:rect(0px, 18px, 18px, 0px)'><img
 src=buttons.gif id="nb_sldshw" title="Full Screen Slide Show"
 style='position:relative;left:-254px'></div>
 </div>
 </td>
 <td>
 <div id="nb_voiceBorder" style='display:none;position:absolute;left:-40px;
 width:20px;height:20px'>
 <div style='position:absolute;clip:rect(0px, 18px, 18px, 0px)'><img
 src=buttons.gif id="nb_voice" title="Pause/Play Narration" style='position:
 relative;left:-290px'></div>
 </div>
 </td>
</table>

<table style='position:relative' align=center cellpadding=0 cellspacing=0>
 <td nowrap>
 <div id="nb_prevBorder" class=button style='left:-30px'>
 <div style='position:absolute;clip:rect(0px, 30px, 18px, 0px)'><img
 src=buttons.gif id="nb_prev" title="Previous Slide" style='position:relative;
 left:0px'></div>
 </div>
 <span id="nav_text" style='position:relative;top:3px;width:100px;font-family:
 Arial;color:buttontext;font-size:9pt'></span>
 <div id="nb_nextBorder" class=button>
 <div style='position:absolute;clip:rect(0px, 30px, 18px, 0px)'><img
 src=buttons.gif id="nb_next" title="Next Slide" style='position:relative;
 left:-90px'></div>
 </div>
 </td>
</table>

</div>

<div id=OtlNavObj onload="Load()" onmouseover="BtnOnOver()"
onmousedown="BtnOnDown()" onmouseout="BtnOnOut()" onmouseup="BtnOnUp()"
onkeypress="_KPH()" style='display:none;visibility:hidden'>

<table style='position:relative;width:70px' align=left cellpadding=0
 cellspacing=0>
 <td nowrap>
 <div id="nb_otlElem" align=center style='position:relative;padding:3px;
 font-family:Arial;color:buttontext;font-size:9pt'>Outline</div>
 <div title="Show/Hide Outline" id="nb_otl" style='position:absolute;
 top:0%;left:0%;width:100%;height:100%'></div>
 </td>
</table>

<table style='position:relative' align=center cellpadding=0 cellspacing=0>
 <td>
 <div style='position:absolute;left:-18px;width:24px;height:20px;border-style:
 solid;border-width:1px;border-color:threedface' id="nb_otlTxtBorder">
 <div style='position:absolute;clip:rect(0px, 22px, 18px, 0px)'><img
 src=buttons.gif id="nb_otlTxt" title="Expand/Collapse Outline"
 style='position:relative;left:-157px'></div>
 </div>
 </td>
</table>

</div>

<div id=OtlObj style='display:none;visibility:hidden'>

<table width="100%" style='font-family:Arial;font-size:9pt'>
 <tr>
  <td>
  <div id=PPTP1 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0001.htm');" onmouseover="Over(this)"
  id=PPTL1 onmouseout="Out(this)">Design Patterns</a></font></div>
  <div id=PPTC1 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB1 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>David Talby</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP2 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0002.htm');" onmouseover="Over(this)"
  id=PPTL2 onmouseout="Out(this)">This Lecture</a></font></div>
  <div id=PPTC2 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB2 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width=20 nowrap></td>
    <td width=20 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=3><font size=2>Patterns for a User Interface</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=2><font size=2>Representing a Document</font></td>
   </tr>
   <tr>
    <td colspan=3></td>
    <td colspan=1><font size=2>Composite, Flyweight, Decorator</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=2><font size=2>Writing Portable Code</font></td>
   </tr>
   <tr>
    <td colspan=3></td>
    <td colspan=1><font size=2>Abstract Factory, Singleton, Bridge</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=2><font size=2>Undo, Macros and Versions</font></td>
   </tr>
   <tr>
    <td colspan=3></td>
    <td colspan=1><font size=2>Command</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=2></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP3 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0033.htm');" onmouseover="Over(this)"
  id=PPTL3 onmouseout="Out(this)">A Word Processor</a></font></div>
  <div id=PPTC3 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB3 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Pages, Columns, Lines, Letters, Symbols, Tables,
    Images, ...</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Font and style settings per letter</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Frames, Shadows, Background, Hyperlink attached
    to anything</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Unlimited hierarchy: Tables with several
    Paragraphs containing hyper-linked images inside tables</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Should be open for additions...</font></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP4 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0010.htm');" onmouseover="Over(this)"
  id=PPTL4 onmouseout="Out(this)">A Data Structure</a></font></div>
  <div id=PPTC4 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB4 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>First, a uniform interface for simple things
    that live in a document:</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	class Glyph</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	{</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	<span style="mso-spacerun: yes">&nbsp; </span>void
    draw(Window *w) = 0;</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	<span style="mso-spacerun: yes">&nbsp;
    </span>void move(double x, double y) = 0;</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	<span style="mso-spacerun: yes">&nbsp;
    </span>bool intersects(Point *p) = 0;</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	<span style="mso-spacerun: yes">&nbsp;
    </span>void insert(Glyph *g, int i) = 0;</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	<span style="mso-spacerun: yes">&nbsp;
    </span>void remove(int i) = 0;</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	<span style="mso-spacerun: yes">&nbsp;
    </span>Glyph* child(int i) = 0;</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	<span style="mso-spacerun: yes">&nbsp;
    </span>Glyph* parent() = 0;</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	}</font></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP5 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0011.htm');" onmouseover="Over(this)"
  id=PPTL5 onmouseout="Out(this)">Composite Documents</a></font></div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP6 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0003.htm');" onmouseover="Over(this)"
  id=PPTL6 onmouseout="Out(this)">At Runtime</a></font></div>
  <div id=PPTC6 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB6 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Unlimited Hierarchy problem solved</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Dynamic selection of composites</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Open for additions</font></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP7 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0014.htm');" onmouseover="Over(this)"
  id=PPTL7 onmouseout="Out(this)">8. Flyweight</a></font></div>
  <div id=PPTC7 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB7 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Use sharing to support a large number of small
    objects efficiently</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>For example, if every character holds font and
    style data, a long letter will require huge memory</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Even though most letters use the same font and
    style</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>How do we make it practical to keep each
    character as an object?</font></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP8 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0015.htm');" onmouseover="Over(this)"
  id=PPTL8 onmouseout="Out(this)">The Requirements</a></font></div>
  <div id=PPTC8 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB8 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Reduce the memory demands of having an object
    per character</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Keep the flexibility to customize each character
    differently</font></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP9 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0021.htm');" onmouseover="Over(this)"
  id=PPTL9 onmouseout="Out(this)">The Solution</a></font></div>
  <div id=PPTC9 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB9 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Extrinsic state = worth sharing</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Intrinsic state<span style="mso-spacerun:
    yes">&nbsp; </span>= not worth sharing</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP10 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0022.htm');" onmouseover="Over(this)"
  id=PPTL10 onmouseout="Out(this)">The Solution II</a></font></div>
  <div id=PPTC10 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB10 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Put extrinsic state in a class:</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	class CharacterContext {</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>		Font* font;</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2><span style="mso-spacerun:
    yes">&nbsp;</span>		bool isItalic, isBold, ...;</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>		int size;</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>		int asciiCode;</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>		// many others…</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>		draw(int x, int y) { ... }</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>		// other operational methods</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	}</font></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP11 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0044.htm');" onmouseover="Over(this)"
  id=PPTL11 onmouseout="Out(this)">The Solution III</a></font></div>
  <div id=PPTC11 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB11 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Original class holds rest of state:</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	class Character : public Glyph {</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>		CharacterContext *cc;</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2><span style="mso-spacerun:
    yes">&nbsp;</span>		int x, y;</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>		draw() {</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>		<span style="mso-spacerun: yes">&nbsp;
    </span>cc-&gt;draw(x,y);</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>		}</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	}</font></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP12 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0045.htm');" onmouseover="Over(this)"
  id=PPTL12 onmouseout="Out(this)">The Solution IV</a></font></div>
  <div id=PPTC12 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB12 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>A factory manages the shared pool</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>It adds the object to the pool if it doesn’t
    exists, and returns it</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Here’s Character’s constructor:</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	 Character(int x, int y, Font *f, …) {</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	<span style="mso-spacerun: yes">&nbsp;
    </span>this-&gt;x = x;</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2><span style="mso-spacerun:
    yes">&nbsp;</span>	<span style="mso-spacerun: yes">&nbsp; </span>this-&gt;y
    = y;</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	<span style="mso-spacerun: yes">&nbsp;
    </span>this-&gt;cc =</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2><span style="mso-spacerun:
    yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>factory.createCharacter(f, …);</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	}</font></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP13 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0024.htm');" onmouseover="Over(this)"
  id=PPTL13 onmouseout="Out(this)">The UML</a></font></div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP14 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0026.htm');" onmouseover="Over(this)"
  id=PPTL14 onmouseout="Out(this)">The Fine Print</a></font></div>
  <div id=PPTC14 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB14 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width=20 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>There’s a lot of tradeoff in what is defined as
    “extrinsic”</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>Shared pool is usually a hash table</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>Use reference counting to collect unused
    flyweights</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>Don’t rely on object identity</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Different objects will seem equal</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP15 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0027.htm');" onmouseover="Over(this)"
  id=PPTL15 onmouseout="Out(this)">Known Uses</a></font></div>
  <div id=PPTC15 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB15 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width=20 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>Word processors</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Average 1 flyweight per 400 letters</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>Widgets</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>All data except location, value</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>Strategy design pattern</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>State design pattern</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP16 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0017.htm');" onmouseover="Over(this)"
  id=PPTL16 onmouseout="Out(this)">9. Decorator</a></font></div>
  <div id=PPTC16 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB16 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width=20 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>Attach additional features to an objects
    dynamically</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>For example, many features can be added to any
    glyph in a document</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Background, Note, Hyperlink, Shading, Borders, …</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP17 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0005.htm');" onmouseover="Over(this)"
  id=PPTL17 onmouseout="Out(this)">The Requirements</a></font></div>
  <div id=PPTC17 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB17 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width=20 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>We can freely combine features</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>An image can have a background,<br>
    a border, a hyper-link and a note</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>Features are added and removed dynamically</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>Can’t afford a class per combination</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>Should be easy to add new features</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Don’t put it all in Glyph</font></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP18 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0029.htm');" onmouseover="Over(this)"
  id=PPTL18 onmouseout="Out(this)">The Solution</a></font></div>
  <div id=PPTC18 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB18 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Meet Decorator, a class for adding
    responsibilities to another glyph:</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2><span style="mso-spacerun: yes">&nbsp; </span>class
    Decorator : public Glyph</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2><span style="mso-spacerun: yes">&nbsp; </span>{</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	<span style="mso-spacerun: yes">&nbsp;&nbsp;
    </span>void draw() {</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>		<span style="mso-spacerun: yes">&nbsp;&nbsp;
    </span>component-&gt;draw();</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	<span style="mso-spacerun: yes">&nbsp;&nbsp;
    </span>}</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	<span style="mso-spacerun: yes">&nbsp;&nbsp;
    </span>// same for other features</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	 private:</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>		Glyph *component;</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	}</font></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP19 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0030.htm');" onmouseover="Over(this)"
  id=PPTL19 onmouseout="Out(this)">The Solution II</a></font></div>
  <div id=PPTC19 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB19 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Define concrete decorators:</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>class BackgroundDecorator</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	 : public Decorator</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>{</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	 void draw() {</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	<span style="mso-spacerun: yes">&nbsp;&nbsp;
    </span>drawBackground();</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	<span style="mso-spacerun: yes">&nbsp;&nbsp;
    </span>glyph-&gt;draw();</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	 }</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>}</font></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP20 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0031.htm');" onmouseover="Over(this)"
  id=PPTL20 onmouseout="Out(this)">The Solution III</a></font></div>
  <div id=PPTC20 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB20 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Many decorators can be added and removed
    dynamically:</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Behavior can be added before and after calling
    the component</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Efficient in space</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Order of decoration can matter</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP21 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0034.htm');" onmouseover="Over(this)"
  id=PPTL21 onmouseout="Out(this)">The UML</a></font></div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP22 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0035.htm');" onmouseover="Over(this)"
  id=PPTL22 onmouseout="Out(this)">The Fine Print</a></font></div>
  <div id=PPTC22 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB22 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>The Decorator class can be omitted if there’s
    only one decorator or Glyph is very simple</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>The Glyph class should be lightweight and not
    store data</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP23 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0036.htm');" onmouseover="Over(this)"
  id=PPTL23 onmouseout="Out(this)">Known Uses</a></font></div>
  <div id=PPTC23 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB23 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width=20 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>Embellishing Document</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Background, Border, Note, ...</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>Communication Streams</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Encrypted, Buffered, Compressed</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP24 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0018.htm');" onmouseover="Over(this)"
  id=PPTL24 onmouseout="Out(this)">Data Structure Summary</a></font></div>
  <div id=PPTC24 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB24 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width=20 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>Patterns work nicely together</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Composite, Decorator, Flyweight don’t interfere</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>Data structures are not layered</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Instead, clients work on a Glyph interface
    hiding structures of unknown, dynamic complexity</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP25 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0049.htm');" onmouseover="Over(this)"
  id=PPTL25 onmouseout="Out(this)">Saving and Loading</a></font></div>
  <div id=PPTC25 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB25 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Java has serialization</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Save to disk / Send over network by simply
    writing the root Glyph object of a document</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>All optimizations saved as well!</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Also works on subtrees</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Very little coding</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>In C++ - best to code read() and write() and
    work the same way</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP26 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0046.htm');" onmouseover="Over(this)"
  id=PPTL26 onmouseout="Out(this)">Cut, Copy, Paste</a></font></div>
  <div id=PPTC26 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB26 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Cut = Detach a subtree</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Copy = Clone a subtree</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Paste = Attach a subtree</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Also works on composite glyphs</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Glyphs should hold a reference to parents for
    the cut operations</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Cloning of a flyweight should only increase its
    reference count!</font></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP27 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0006.htm');" onmouseover="Over(this)"
  id=PPTL27 onmouseout="Out(this)">10. Bridge</a></font></div>
  <div id=PPTC27 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB27 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Separate an abstraction from its implementations</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>For example, a program must run on several
    platforms</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Each platform comes with its own set of GUI
    classes:</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	<span style="mso-spacerun:
    yes">&nbsp;&nbsp;&nbsp; </span>WinButton, WinScrollBar, WinWindow</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	<span style="mso-spacerun:
    yes">&nbsp;&nbsp;&nbsp; </span>MotifButton, MotifScrollBar, MotifWindow</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	<span style="mso-spacerun: yes">&nbsp;&nbsp;
    </span>pmButton, pmScrollBar, pmWindow</font></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP28 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0037.htm');" onmouseover="Over(this)"
  id=PPTL28 onmouseout="Out(this)">Abstract Factory, Right?</a></font></div>
  <div id=PPTC28 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB28 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width=20 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>An abstract factory can be used to provide these
    advantages:</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Clients treat widgets uniformly</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Easy to add or switch families</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>However, it requires a class per platform per
    abstraction:</font></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP29 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0047.htm');" onmouseover="Over(this)"
  id=PPTL29 onmouseout="Out(this)">The Requirements</a></font></div>
  <div id=PPTC29 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB29 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width=20 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>One class per abstraction,<br>
    one <span
    style="mso-spacerun: yes">&nbsp;</span>class per implementation</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Basically all platforms give similar
    functionality for a window</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>If a platform doesn’t support a feature, we
    should code it once</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP30 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0038.htm');" onmouseover="Over(this)"
  id=PPTL30 onmouseout="Out(this)">The Solution</a></font></div>
  <div id=PPTC30 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB30 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Separate the two hierarchies:</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP31 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0039.htm');" onmouseover="Over(this)"
  id=PPTL31 onmouseout="Out(this)">The Solution II</a></font></div>
  <div id=PPTC31 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB31 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width=20 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>Usually, an implementation inherits the
    abstraction it implements</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>The Bridge patterns simply replaces this by
    composition</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>This gives several advantages in cases such as
    the above:</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>An abstraction can choose its implementation at
    runtime</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Even change implementations</font></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP32 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0048.htm');" onmouseover="Over(this)"
  id=PPTL32 onmouseout="Out(this)">The Solution III</a></font></div>
  <div id=PPTC32 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB32 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width=20 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Both the abstractions and the implementations
    can be extended by subclassing</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Changing one does not force recompilation of the
    other</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>In C++ this technique completely hides a class’s
    implementation (its private functions and members)</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Many abstractions can share the same
    implementation</font></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP33 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0040.htm');" onmouseover="Over(this)"
  id=PPTL33 onmouseout="Out(this)">The GoF UML</a></font></div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP34 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0041.htm');" onmouseover="Over(this)"
  id=PPTL34 onmouseout="Out(this)">The Fine Print</a></font></div>
  <div id=PPTC34 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB34 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Choosing the implementor can still be done with
    an Abstract Factory</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Stateless implementors can be shared (so the
    Abstract Factory becomes a Flyweight factory)</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP35 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0043.htm');" onmouseover="Over(this)"
  id=PPTL35 onmouseout="Out(this)">Known Uses</a></font></div>
  <div id=PPTC35 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB35 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width=20 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>A program that must run on several platforms</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>A data structures library</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Abstractions: Set, List, Array, Table</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Implementations: LinkedList, HashTable, DenseArray,
    …</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>Different kinds of images versus algorithms to
    display them</font></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP36 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0050.htm');" onmouseover="Over(this)"
  id=PPTL36 onmouseout="Out(this)">11. Command</a></font></div>
  <div id=PPTC36 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB36 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width=20 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>Encapsulate commands as objects</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>We’ll take the the uses one by one:</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Undo/Redo</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Macros</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Queues and logs</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Version control</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Crash recovery</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Message Grouping</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP37 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0052.htm');" onmouseover="Over(this)"
  id=PPTL37 onmouseout="Out(this)">The Requirements I</a></font></div>
  <div id=PPTC37 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB37 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Undo / redo at unlimited depth</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Only store relevant data for undo</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Easy to add commands</font></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP38 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0053.htm');" onmouseover="Over(this)"
  id=PPTL38 onmouseout="Out(this)">The Solution</a></font></div>
  <div id=PPTC38 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB38 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Repesent a command as a class:</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2><span style="mso-spacerun: yes">&nbsp;
    </span>class Command</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2><span style="mso-spacerun: yes">&nbsp; </span>{</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2><span style="mso-spacerun: yes">&nbsp;&nbsp;
    </span>public:</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>	<span style="mso-spacerun: yes">&nbsp;&nbsp;
    </span>virtual void execute() = 0;</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2><span style="mso-spacerun:
    yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>virtual void undo() = 0;</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2><span style="mso-spacerun: yes">&nbsp; </span>}</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP39 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0054.htm');" onmouseover="Over(this)"
  id=PPTL39 onmouseout="Out(this)">The Solution II</a></font></div>
  <div id=PPTC39 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB39 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Concrete commands hold undo data:</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2><span style="mso-spacerun: yes">&nbsp; </span>class
    DeleteLine : public Command {</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2><span style="mso-spacerun:
    yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>void execute() {</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2><span style="mso-spacerun:
    yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>line =
    document-&gt;getLine();</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2><span style="mso-spacerun:
    yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>document-&gt;removeLine();</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2><span style="mso-spacerun:
    yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>}</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2><span style="mso-spacerun:
    yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>void undo() {</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2><span style="mso-spacerun:
    yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </span>document-&gt;addLine(line);</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2><span style="mso-spacerun:
    yes">&nbsp;&nbsp;&nbsp;&nbsp; </span>}</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2><span style="mso-spacerun: yes">&nbsp;&nbsp;
    </span>private:</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2><span style="mso-spacerun:
    yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span>Line line;</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2><span style="mso-spacerun: yes">&nbsp; </span>}</font></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP40 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0055.htm');" onmouseover="Over(this)"
  id=PPTL40 onmouseout="Out(this)">The Solution III</a></font></div>
  <div id=PPTC40 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB40 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width=20 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>Keep a list of executed commands:</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Array&lt;Command*&gt; commands;</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>int i;</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>When you click the ‘Undo’ button:</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>commands(i)-&gt;undo();</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>i--;</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>When you click the ‘Redo’ button:</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>commands(i)-&gt;execute();</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>i++;</font></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP41 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0059.htm');" onmouseover="Over(this)"
  id=PPTL41 onmouseout="Out(this)">The Solution IV</a></font></div>
  <div id=PPTC41 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB41 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width=20 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>Whenever a command is activated:</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>commands.add(new_command);</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>i = commands.count();</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>When you save a document:</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>document-&gt;save();</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>commands.clear();</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>i = 0;</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>The commands list may or may not be limited in
    size</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>Only relevant undo data is kept</font></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP42 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0060.htm');" onmouseover="Over(this)"
  id=PPTL42 onmouseout="Out(this)">The Requirements II</a></font></div>
  <div id=PPTC42 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB42 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Macros are a series of commands</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Any command with any of its options may be used</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>There are also for and while loops, if
    statements, calls to other macros...</font></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP43 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0061.htm');" onmouseover="Over(this)"
  id=PPTL43 onmouseout="Out(this)">The Solution</a></font></div>
  <div id=PPTC43 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB43 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>A macro is a Composite Command</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>if, for, while are Decorator Commands</font></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP44 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0062.htm');" onmouseover="Over(this)"
  id=PPTL44 onmouseout="Out(this)">The Requirements III</a></font></div>
  <div id=PPTC44 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB44 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Commands are accessible from menus as well as
    toolbars</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>A command may be available from more than one
    place</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>We’d like to configure the menus and toolbars at
    runtime</font></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP45 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0063.htm');" onmouseover="Over(this)"
  id=PPTL45 onmouseout="Out(this)">The Solution</a></font></div>
  <div id=PPTC45 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB45 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width=20 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>Each MenuItem or ToolbarItem <br>
    refers to its command object</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>Just as it refers to an image</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>The command can be configured</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Less command classes</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>Macros fit in the picture as well!</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP46 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0064.htm');" onmouseover="Over(this)"
  id=PPTL46 onmouseout="Out(this)">The Requirements IV</a></font></div>
  <div id=PPTC46 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB46 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Keep multiple versions of a document</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>When saving, only store the changes from the
    previous version</font></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP47 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0065.htm');" onmouseover="Over(this)"
  id=PPTL47 onmouseout="Out(this)">The Solution</a></font></div>
  <div id=PPTC47 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB47 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>The changes are exactly the list of commands
    since the last version was loaded</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>In addition, a compaction algorithm is needed
    for commands that cancel each other</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Save = Serialize the compacted list</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=1><font size=2>Load = Read early version and call<br>
    <span style="mso-spacerun:
    yes">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    </span>execute on command lists</font></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP48 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0066.htm');" onmouseover="Over(this)"
  id=PPTL48 onmouseout="Out(this)">(More!) Known Uses</a></font></div>
  <div id=PPTC48 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB48 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width=20 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>Programs log commands to disk so they can be
    used in case of a crash</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Works, since commands are small</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Usually in a background thread</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>Commands can be grouped and sent as one command
    to a server</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Grouping for efficient communication</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Grouping to define a transaction</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Works even for user defined macros!</font></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
 <tr>
  <td>
  <div id=PPTP49 class=PTxt><font size=2><a
  href="javascript:GoToSld('slide0009.htm');" onmouseover="Over(this)"
  id=PPTL49 onmouseout="Out(this)">Another Summary</a></font></div>
  <div id=PPTC49 class=CTxt style='display:none'>
  <table style='color:black' id=PPTB49 class=CBorder>
   <tr>
    <td width=5 nowrap></td>
    <td width=20 nowrap></td>
    <td width="100%"></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>Interfaces rule</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>As long as Command is abstract, who cares how
    complex it is</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>Composition rules</font></td>
   </tr>
   <tr>
    <td colspan=2></td>
    <td colspan=1><font size=2>Decorator and Bridge provide flexibility in less
    written code by avoiding inheritance</font></td>
   </tr>
   <tr>
    <td colspan=1></td>
    <td colspan=2><font size=2>Serialization should rule</font></td>
   </tr>
  </table>
  </div>
  </td>
 </tr>
</table>

</div>

</body>

</html>
